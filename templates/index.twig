{% extends "_layout" %}
{% set entry = craft.entries.section('home').one() %}
{% set renderHeader = false %}
{% set renderFooter = false %}

{% block title %}{{ entry ? entry.title : 'Home' }}{% endblock %}

{% block styles %}
  <style>
    .page { max-width: 960px; margin: 0 auto; padding: 32px 20px; }
    .hero {
      display: grid;
      gap: 16px;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      align-items: start;
    }
    .title { font-size: clamp(28px, 4vw, 40px); margin: 0 0 12px; }
    .lede { margin: 0 0 16px; line-height: 1.5; color: #444; white-space: pre-wrap; }
    .cta { display: inline-block; padding: 10px 14px; background: #111; color: #fff; text-decoration: none; border-radius: 6px; font-weight: 600; }
    .thumb { background: #eaeaea; min-height: 240px; display: flex; align-items: center; justify-content: center; border-radius: 6px; overflow: hidden; }
    .thumb img { width: 100%; height: 100%; object-fit: cover; display: block; }
    .fallback { color: #553; text-align: center; padding: 16px; }
  </style>
{% endblock %}

{% block content %}
  <div class="page">
    {% if entry %}
      <div class="hero">
        <div>
          <h1 class="title">{{ entry.title }}</h1>
          {% if entry.shortDescription %}
            <p class="lede">{{ entry.shortDescription|nl2br }}</p>
          {% endif %}
          <a class="cta" href="{{ url('recipes') }}">Browse recipes â†’</a>
        </div>
        <div class="thumb">
          {% set heroAsset = entry.heroimage.one() ?? entry.foodimage.one() ?? entry.stepimage.one() %}
          {% if heroAsset %}
            <img src="{{ heroAsset.url }}" alt="{{ entry.title }}">
          {% else %}
            <div class="fallback">Add a hero image to the Home entry.</div>
          {% endif %}
        </div>
      </div>
    {% endif %}
  </div>
{% endblock %}
